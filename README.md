# Visual Inspector Chrome Extension

Visual Inspector 是一个 Chrome 扩展，用于在网页开发过程中叠加和管理设计稿图层。它能帮助开发者直观地对比设计稿和实际实现的差异，提高还原度。

## 主要功能

### 图层管理
- 支持上传设计图片作为叠加图层
- 可以同时管理多个设计图层
- 图层列表显示所有已上传的图层

### 图层控制
- **拖拽定位**：直接用鼠标拖动图层到任意位置
- **缩放控制**：
  - 使用滑块精确调整图层大小
  - 通过鼠标滚轮快速缩放（按住 Ctrl/Cmd）
  - 拖拽边角手柄调整大小
- **透明度调节**：使用滑块调整图层透明度
- **显示/隐藏**：点击眼睛图标切换图层可见性
- **删除图层**：点击删除按钮移除不需要的图层

### 数据持久化
- 自动保存所有图层状态
- 重新打开浏览器时自动恢复图层

## 安装说明

1. 克隆或下载此仓库到本地
2. 打开 Chrome 浏览器，进入扩展管理页面：
   - 在地址栏输入：`chrome://extensions/`
   - 或者通过菜单：更多工具 > 扩展程序
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本项目文件夹

## 使用方法

1. **添加图层**
   - 点击扩展图标打开控制面板
   - 点击"Add New Layer"按钮
   - 选择要上传的设计图片

2. **调整图层**
   - 拖动图层：直接用鼠标拖动
   - 缩放图层：
     - 使用控制面板中的缩放滑块
     - 按住 Ctrl/Cmd + 滚轮
     - 拖动边角手柄
   - 调整透明度：使用透明度滑块
   - 显示/隐藏：点击图层列表中的眼睛图标
   - 删除图层：点击图层列表中的删除按钮

3. **对比设计**
   - 调整图层位置和大小直到与页面对齐
   - 通过调节透明度来对比差异
   - 使用多个图层来对比不同状态或设备尺寸的设计

## 技术实现

- 基于 Chrome Extension Manifest V3
- 使用原生 JavaScript 实现，无需额外依赖
- 使用 Chrome Storage API 实现数据持久化
- 模块化的代码结构，便于维护和扩展

## 文件结构

```
visual-inspector/
├── manifest.json      # 扩展配置文件
├── popup.html        # 控制面板 HTML
├── popup.js         # 控制面板逻辑
├── content.js       # 注入页面的主要逻辑
├── content.css      # 注入页面的样式
└── icons/           # 扩展图标
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## 权限说明

扩展使用以下权限：
- `activeTab`: 访问当前标签页
- `storage`: 保存图层数据
- `scripting`: 注入和执行内容脚本
- `host_permissions`: 允许在所有网页上运行

## 注意事项

- 图层数据保存在浏览器本地，清除浏览器数据会导致丢失
- 大尺寸图片可能会影响性能，建议使用适当大小的图片
- 目前仅支持 Chrome 浏览器

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目。在提交代码前，请确保：
1. 代码风格保持一致
2. 新功能有充分的测试
3. 更新相关文档

## 许可证

[MIT License](LICENSE)
